<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="description" content=""/>
	<title>Nort - Create</title>
	<link href="../css/style.css" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Montserrat:700" rel="stylesheet">
</head>
<body>
	<div id="main">
		
		<div class="logoContainer">
  			<img class="logo" src="../NORT.png" alt="NORT"/>
		</div>
		<div class="menu">
			
			<div style="display: flex; flex-direction: row; align-items: center;">
				<div>How many players?</div>
				<input style="font-weight: 700" id="num" class="code-input" type="text" placeholder="2 - 5" value="" maxlength="1" />
			</div>
			
			<div style="display: flex; flex-direction: row; align-items: center;">
				<div>Enter a nickname: </div>
				<input id="nickname" class="nickname-input" style="font-weight: 700" type="text" placeholder="nickname" maxlength="16"/>
			</div>
			<div style="display: flex; flex-direction: row; align-items: center;">
				<div>Gamecode: </div>
				<input class="code-input" id="code" type="text" placeholder="1234" maxlength="4"/>
			</div>
			<button class="button" onclick="return startGame();"><a id="start">Start</a></button>
		</div>
		
	</div>
</body>
<script src="https://www.gstatic.com/firebasejs/4.12.1/firebase.js"></script>
<script src="../game/gameFunctions.js" type="text/javascript"></script>
<script>
	async function getName() {
		await login();

		await getUsername().then((name) => {
			console.log(name);
			document.getElementById("nickname").value = name;
		})
	};
	
	async function startGame() {
		var code = document.getElementById("code").value;
		var numOfPlayers = document.getElementById("num").value;
		var nickname = document.getElementById("nickname").value;
		await setUsername(nickname);
		await createGame(code, numOfPlayers).catch((err) => {
			alert(err);
		});
	}
</script>
</html>